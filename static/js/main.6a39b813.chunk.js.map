{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","components/Header.js","images/logo-header.png","components/Footer.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","options","this","_url","baseUrl","_headers","headers","fetch","then","res","ok","Error","status","json","obj","method","body","JSON","stringify","id","authorization","Header","className","src","alt","Footer","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","onCardDelete","onCardClick","link","name","class","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","PopupWithForm","isOpen","title","onSubmit","noValidate","children","type","value","onClose","EditProfilePopup","useState","setName","description","setDescription","handleChange","e","target","useEffect","preventDefault","onUpdateUser","htmlFor","placeHolder","required","minLength","maxLength","onChange","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","placeholder","ref","AddPlacePopup","setLink","ImagePopup","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","closeAllPopups","loadUserInfo","data","catch","err","console","log","finally","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateAvatar","updateUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a39b813.chunk.js","sourcesContent":["import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const CurrentUser = {};","class Api {\r\n  constructor(options){\r\n    this._url= options.baseUrl;\r\n    this._headers= options.headers;\r\n  }\r\n\r\n  loadUserInfo(){\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    })\r\n  }\r\n\r\n  updateUserInfo(obj){\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(obj)\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    });\r\n  }\r\n\r\n  updateAvatar(obj){\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(obj)\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    });\r\n  }\r\n\r\n  addCard(obj){\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(obj)\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    });\r\n  }\r\n\r\n  deleteCard(id){\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.ok;\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(id, method){\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: `${method}`,\r\n      headers: this._headers\r\n    }).then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`'Server error: ',${res.status}`);\r\n      }\r\n      return res.json();\r\n    });\r\n  }\r\n};\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\r\n  headers: {\r\n    authorization: 'a5ab0f86-d530-4405-820a-39c59495e62f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\nexport default api;\r\n","import React from 'react';\r\nimport headerLogo from '../images/logo-header.png';\r\n\r\nfunction Header(){\r\n  return(\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"Лого\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","export default \"data:image/png;base64,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\"","function Footer(){\r\n  return(\r\n    <footer className=\"footer\">\r\n        <h3 className=\"footer__title\">&copy; 2020 Mesto Russia</h3>\r\n    </footer>\r\n  )\r\n}\r\nexport default Footer;","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    //если карточка принадлежит пользователю, то делаем видимой кнопку удаления\r\n  const cardDeleteButtonClassName = (\r\n    `button button_type_delete ${isOwn ? '' : 'button_type_delete_hidden'}`\r\n  ); \r\n    //если пользователь уже лайкнул карточку, то добавляем стиль\r\n  const cardLikeButtonClassName = (\r\n    `button button_type_like ${isLiked? 'button_type_like_clicked':''}`\r\n  );\r\n\r\n  function handleClick(){\r\n    props.onCardClick(props.card);\r\n  };\r\n  function handleLikeClick(){\r\n    props.onCardLike(props.card);\r\n  };\r\n  function handleDeleteClick(){\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return(\r\n    <li className=\"element\">\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <button className =\"button button_type_enlarge\" onClick={handleClick}>\r\n        <img src={props.card.link} alt={props.card.name} class=\"element__image\" />\r\n      </button>\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__title\">{`${props.card.name}`}</h2>\r\n        <div className=\"element__likes\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <h3 className=\"element__likes_number\">{props.card.likes.length}</h3>\r\n        </div>\r\n      </div>\r\n    </li> \r\n  )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main(props){\r\n    //используем контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    //возвращаем элемент. Берем массив карточек из пропсов и добавляем компонент Card для каждой,\r\n    //прокидывая в него обработчики клика, лайка и удаления из пропсов\r\n  return(\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"button button_type_avatar\" onClick={props.onEditAvatar}>\r\n          <img src={currentUser.avatar} alt={currentUser.name} className=\"avatar\" />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className =\"button button_type_edit\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"button button_type_add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <ul className=\"elements\">\r\n          {props.cards.map(item=>\r\n            <Card key={item._id} card={item} onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props){\r\n  let className =`popup popup_${props.name}`;\r\n  if (props.isOpen){\r\n    className += ' popup_opened';\r\n  };\r\n  return(\r\n    <div className={className}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n          {props.children}\r\n          <button className=\"button button_type_save\" type=\"submit\" value=\"Сохранить\">Сохранить</button>\r\n        </form>\r\n        <button className=\"button button_type_close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props){\r\n    //подписываемся на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    //объявляем стейты, записываем их в value инпутов\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n    //обновляем стейты при изменении контекста\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n      // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  };\r\n    //обновляем стейты при изменении инпутов\r\n  function handleChange(e){\r\n    e.target.id === \"name\"? setName(e.target.value) : setDescription(e.target.value);\r\n  }; \r\n\r\nreturn(\r\n  <PopupWithForm isOpen ={props.isOpen} name='editProfile' title='Редактировать профиль' onClose ={props.onClose} onSubmit={handleSubmit}>\r\n    <label htmlFor=\"name\" className=\"form__field\">\r\n      <input type=\"text\" className=\"form__input form__input_name\" \r\n        value={name} placeHolder={name} id=\"name\" name =\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleChange}\r\n        />\r\n      <span className=\"form__error\" id=\"name-error\"></span>\r\n    </label>\r\n    <label htmlFor=\"description\" className=\"form__field\">\r\n      <input type=\"text\" className=\"form__input form__input_description\"\r\n        value={description} placeHolder={description} id=\"description\" name =\"description\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleChange}\r\n        />\r\n      <span className=\"form__error\" id=\"description-error\"></span>\r\n    </label>\r\n  </PopupWithForm>\r\n)\r\n};\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n    //объявляем Ref\r\n  const avatarRef = React.useRef();\r\n    //убираем стандартную отправку, вызываем обработчик сабмита из пропсов, передавая в него значение DOM-элемента\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  };\r\n    //возвращаем компонент PopupWithForm, передаваем в него children, обработчики из пропсов. \r\n    //Назначаем Ref для инпута\r\n  return (\r\n    <PopupWithForm name='editAvatar' title='Обновить аватар' isOpen ={props.isOpen} onClose ={props.onClose} onSubmit={handleSubmit}>\r\n      <label htmlFor=\"link\" className=\"form__field\">\r\n        <input type=\"url\" className=\"form__input form__input_avatarLink\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"avatarLink\" id =\"avatar\" \r\n          required \r\n          ref={avatarRef}/>\r\n        <span className=\"form__error\" id=\"link-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n    //объявляем стейты, записываем их в value инпутов\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n    //обновляем стейты при изменении инпутов\r\n  function handleChange(e){\r\n    e.target.id === \"elemTitle\"? setName(e.target.value) : setLink(e.target.value);\r\n  }; \r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n      // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n    setName('');\r\n    setLink('');\r\n  };\r\n  return(\r\n    <PopupWithForm isOpen ={props.isOpen} name='addPlace' title='Новое меcто' onClose ={props.onClose} onSubmit={handleSubmit}>\r\n        <label htmlFor=\"elemTitle\" className=\"form__field\">\r\n          <input type=\"text\" className=\"form__input form__input_name\"\r\n            placeholder=\"Название\" name=\"elemTitle\" id =\"elemTitle\"\r\n            value ={name}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            onChange={handleChange} />\r\n          <span className=\"form__error\" id=\"elemTitle-error\"></span>\r\n        </label>\r\n        <label htmlFor=\"link\" class=\"form__field\">\r\n          <input type=\"url\" className=\"form__input form__input_description\"\r\n            placeholder=\"Ссылка на картинку\" name=\"link\" id =\"link\"\r\n            value={link}\r\n            required\r\n            onChange={handleChange} />\r\n          <span className=\"form__error\" id=\"link-error\"></span>\r\n        </label>\r\n      </PopupWithForm>\r\n  )\r\n};\r\nexport default AddPlacePopup;","function ImagePopup(props){\r\n  let className = 'popup popup_openImage';\r\n  if (props.card._id){ \r\n    className += ' popup_opened'};\r\n  return(\r\n    <div className={className}>\r\n      <div className=\"popup__container_image\">\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <h2 className=\"popup__title_image\">{props.card.name}</h2>\r\n        <button className=\"button button_type_close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default ImagePopup;","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n    //открываем-закрываем попапы\r\n  function handleEditAvatarClick(){\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n  function handleEditProfileClick(){\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  function handleAddPlaceClick(){\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n  function handleCardClick(card){\r\n    setSelectedCard(card);\r\n  };\r\n  function closeAllPopups(){\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  };\r\n    //обновляем данные профиля: отправляем запрос в API, затем обновляем контекст пользователя\r\n  function handleUpdateUser(obj){\r\n    api.updateUserInfo(obj)\r\n        .then((res)=>{\r\n          setCurrentUser(res);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err)=>{console.log('Ошибка обновления данных профиля: ', err)});\r\n  };\r\n    //обновляем аватар: отправляем запрос в API, затем обновляем контекст пользователя\r\n  function handleUpdateAvatar(obj){\r\n    api.updateAvatar(obj)\r\n        .then((res)=>{\r\n          setCurrentUser(res);\r\n          closeAllPopups();\r\n        })\r\n        .catch((err)=>{console.log('Ошибка обновления аватара: ', err)});\r\n  };\r\n    //добавляем карточку: отправляем запрос в API, затем обновляем cards, добавляя новый элемент\r\n  function handleAddPlaceSubmit(obj){\r\n    api.addCard(obj)\r\n    .then((res)=>{\r\n      setCards([res, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err)=>{console.log('Ошибка добавления карточки: ', err)})\r\n  };\r\n    //обрабатываем лайк: проверяем, есть ли уже лайк на этой карточке. В зависимости от этого,\r\n    //отправляем запрос в API, получаем обновленные данные карточек и обновляем cards\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const method = isLiked? 'DELETE':'PUT';\r\n    \r\n    api.changeLikeCardStatus(card._id, method).then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    });\r\n  };\r\n    //обрабатываем удаление карточки: отправляем запрос в API, затем формируем новый массв, исключая\r\n    //удаленную карточку. Обновляем cards\r\n  function handleCardDelete(card){\r\n    api.deleteCard(card._id).then(() => {\r\n    const newCards = cards.filter((c) => c._id !== card._id);\r\n    setCards(newCards);\r\n  });\r\n  };\r\n  //запрашиваем данные через API при монтировании компонента, затем обновляем cards и контекст пользователя\r\n  React.useEffect(()=>{\r\n    api.loadUserInfo().then((data)=>{\r\n      setCurrentUser(data);\r\n    })\r\n    .catch((err)=>{console.log('Ошибка рендеринга данных пользователя', err)})\r\n    .finally(()=>{\r\n      console.log('Запрос данных пользователя был');\r\n    });\r\n  }, []);\r\n  React.useEffect(()=>{\r\n    api.getInitialCards().then((data)=>{\r\n      setCards(data);\r\n    })\r\n    .catch((err)=>{console.log('Ошибка рендеринга карточек', err)})\r\n    .finally(()=>{\r\n      console.log('Обновили карточки');\r\n    });\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick} onCardClick ={handleCardClick}\r\n          cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n        <Footer />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}